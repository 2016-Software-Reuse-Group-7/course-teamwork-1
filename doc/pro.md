#程序文档



---             



>课程名称：                软件复用                         
>项目名称：   客户端-服务器项目（上机实践01）                        
>项目组编号：                 第7组                         
>项目组成员：1352847欧阳俊鹏、1352855侯潇雪、              
>1352888林悦锵、1352916陈宏俊、1352989赵明阳                                  

----


###文档信息：
* 文档名称  ：  程序文档
* 版本 ：	v1.0
* 文档编号	： 02
* 编写日期	： 2016/03/28
* 编写人员	： 侯潇雪
* 评审人员	： 项目组全体人员

----

###修订历史：
* 编写日期:2016年03月28日
* 版本:v1.0
* 说明:初稿
* 作者:侯潇雪


----
	
###一、程序编写目标
#####1.1程序编写目标：
>建立一个客户端-服务器的通信应用。

---

#####二、功能描述：
   该项目具体功能要求如下：
#####*登录：*
 * 实现用户的注册，选择相应服务器并登录；
 * 配置服务端端口号并运行；
 * 登录后保持客户端与服务端的连接。
 * 记录每分钟客户端与服务端的信息：
      客户端：登录成功的次数
              登录失败的次数
      服务端：通过登录验证的次数
              未通过登录验证的次数

#####*通信：*
 * 服务端验证消息给出回应，并将客户端的信息转发到其余登录状态下的客户端；
 * 忽略客户端一秒内发送的超过五条的消息；
 * 客户端在一次登录中发送超过100条消息后，服务端发送的“重新登录”的消息，客户端自动重新登录（此过程要保持二者的连接）；
 * 记录每分钟客户端与服务端的信息：
      客户端：发送/收到消息的数量
      服务端：转发/收到/忽略的消息数
 
 ---
   
###三、程序设计
>本项目工作环境为IntelliJ IDEA2016，编写语言为Java，数据库使用sqlite，使用socket通信机制进行搭建。主要功能是实现服务端与客户端的通信机制。界面主要有注册登录界面、客户端界面、服务端界面。具体实现如下：

####1.界面
#####- 1.1客户端登录界面：
   客户端在登录时可选择相应的服务器。服务器端口默认为8887，IP地址默认为127.0.0.1。输入用户名及密码即可实现登录。输入错误会有相应提示。
![image](https://github.com/2016-Software-Reuse-Group-7/course-teamwork-1/tree/houxiaoxue2/src/res/1.png)
#####- 1.2服务端登录：
  输入服务端端口号即可实现登录。
![image](https://github.com/2016-Software-Reuse-Group-7/course-teamwork-1/tree/houxiaoxue2/src/res/2.png)
#####- 1.3客户端界面：
   窗口标题栏显示用户名；   
    界面左上方的文本域显示对话信息；
右边显示当前连接的服务器端口号及IP地址；
在下方文本框中输入消息，点击“Send”按钮即可发送消息；
点击“Relog”按钮实现重新登录；
点击“Exit”按钮实现退出；
![image](https://github.com/2016-Software-Reuse-Group-7/course-teamwork-1/tree/houxiaoxue2/src/res/3.png)
#####- 1.4服务端界面
界面左上方的文本域显示对话信息；
右边显示当前服务器端口号；
点击“Start”按钮实现服务器启动；
点击“Restart”按钮实现服务器重新启动；
点击“Exit”按钮实现退出；

![image](https://github.com/2016-Software-Reuse-Group-7/course-teamwork-1/tree/houxiaoxue2/src/res/4.png)


####- 2.项目架构：
本项目架构图如下：

![image](https://github.com/2016-Software-Reuse-Group-7/course-teamwork-1/tree/houxiaoxue2/src/res/arc.png)




>登录部分逻辑：在客户端请求登录时，需验证输入的用户名及密码是否正确，以及是否重复登录。而服务端实现了地址的可配置，输入端口号可登录相应的服务器，客户端输入对应的端口号和IP地址即可与相应的服务器相连。
                
![image](https://github.com/2016-Software-Reuse-Group-7/course-teamwork-1/tree/houxiaoxue2/src/res/log.png)
>通信部分逻辑：在通信是，发送的消息采用加密方式传输，msg包含了发送的消息以及客户端的userName.
 
![image](https://github.com/2016-Software-Reuse-Group-7/course-teamwork-1/tree/houxiaoxue2/src/res/comm.png)


###四、项目亮点
>1.使用序列化传输机制，更加快捷。
2.对每条消息都进行发送端验证，更加安全。
3.项目复用度高。
